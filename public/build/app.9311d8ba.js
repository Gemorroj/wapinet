"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{5474:(e,t,n)=>{n.d(t,{A:()=>i});n(18111),n(22489),n(20116);const i={pageCreate:function(){let e=$(":mobile-pagecontainer");e.on("click","#delete-button",function(){let t=e.find("a[download]").filter(":visible").data("id");return e.find("#delete-popup-"+t).popup("open",{transition:"flow",positionTo:"window"}),!1}),e.on("click","#delete-popup-do",function(){let t=e.find("a[download]").filter(":visible").data("id");$.post(Routing.generate("file_delete",{id:t}),function(){e.pagecontainer("change",Routing.generate("file_index"))})}),e.on("click","a[id^='meta-button-']",function(){let t=e.find("a[download]").filter(":visible").data("id");return e.find("#meta-popup-"+t).popup("open",{transition:"pop",positionTo:"window"}),!1}),e.on("click","a[id^='permissions-button-']",function(){let t=e.find("a[download]").filter(":visible").data("id");return e.find("#permissions-popup-"+t).popup("open",{transition:"pop",positionTo:"window"}),!1})}}},17198:()=>{},32631:(e,t,n)=>{n.d(t,{A:()=>i});n(18111),n(22489),n(20116);const i={pageCreate:function(){let e=$(":mobile-pagecontainer");e.on("swipeleft",function(){$(this).find("a[data-id='swipe-next']").filter(":visible").click()}).on("swiperight",function(){$(this).find("a[data-id='swipe-prev']").filter(":visible").click()}).on("click","a[data-id='swipe-next']",function(){let t=$(this);return e.pagecontainer("change",t.attr("href"),{transition:"slide"}),!1}).on("click","a[data-id='swipe-prev']",function(){let t=$(this);return e.pagecontainer("change",t.attr("href"),{transition:"slide",reverse:!0}),!1}).on("click",".image-size-btn",function(){e.css("background-size","cover"===e.css("background-size")?"contain":"cover")})}}},36330:(e,t,n)=>{n.d(t,{A:()=>i});n(18111),n(20116);const i={pageCreate:function(){let e,t,n=$(":mobile-pagecontainer"),i=n.find("#list-archive");i.find("a[href='#delete-popup']").on("click",function(){let n=$(this);e=n.data("path"),t=n.closest("li")}),n.find("#delete-popup-do").on("click",function(){$.post(Routing.generate("archiver_delete_file",{archive:i.data("name"),name:"file",path:e}),function(){t.remove()})})}}},39809:(e,t,n)=>{n.d(t,{A:()=>i});n(18111),n(20116);const i={pageCreate:function(){let e,t=$(":mobile-pagecontainer");t.find("a[href='#delete-popup']").on("click",function(){e=$(this).data("id")}),t.find("#delete-popup-do").on("click",function(){$.post(Routing.generate("gist_delete",{id:e}),function(){t.pagecontainer("change",Routing.generate("gist_index"))})})}}},58005:(e,t,n)=>{n.d(t,{A:()=>a});n(18111),n(20116);var i=n(84288);const a={pageCreate:function(){let e=$(":mobile-pagecontainer");e.on("click","#downloadObfuscation",function(){return i.H.downloadText(e.find("#textObfuscation").val(),"obfuscation.txt"),!1})}}},59405:(e,t,n)=>{n.d(t,{A:()=>i});n(18111),n(22489),n(20116);const i={pageCreate:function(){let e=$(":mobile-pagecontainer");e.on("click","a[href^='#popup-']",function(){let t=$(this),n=t.attr("href");return e.find(n).popup("open",{transition:"turn",positionTo:t}),!1}),e.on("click","a.item-quote",function(){let t=$(this),n=e.find("textarea[name='message_form[message]']").filter(":visible");n.focus();let i=t.parent().next().children("div").text(),a=t.next("a").text();return n.val("[quote="+a+"]"+i+"[/quote]"),n.keyup(),!1})}}},71731:(e,t,n)=>{n.d(t,{A:()=>a});n(18111),n(20116);var i=n(84288);const a={pageCreate:function(){let e=$(":mobile-pagecontainer");i.j.text(Routing.generate("file_tags_search"),e.find("#file_edit_form_tags"),e.find("#suggestions")),e.find("#edit-password").change(function(){e.find("#edit-password-row").slideToggle(),e.find("#file_edit_form_tags").parent().parent().slideToggle()}),""!==e.find("#file_edit_form_plainPassword").val()&&e.find("#edit-password").click()}}},79818:(e,t,n)=>{n.d(t,{A:()=>a});n(18111),n(20116);var i=n(84288);const a={pageCreate:function(){let e=$(":mobile-pagecontainer");e.on("click","#downloadHeaders",function(){return i.H.downloadText(e.find("#textHeaders").val(),"headers-"+window.location.host+".txt"),!1}),e.on("click","#downloadBody",function(){return i.H.downloadText(e.find("#textBody").val(),"body-"+window.location.host+".txt"),!1})}}},84288:(e,t,n)=>{n.d(t,{H:()=>h,j:()=>m});n(44114),n(18111),n(22489),n(20116),n(14603),n(47566),n(98721);var i=n(58005),a=n(79818),o=n(59405),r=n(39809),l=n(36330),c=n(71731),s=n(32631),u=n(87258),d=n(5474);const p=function(e,t){if(FileReader){let n=new FileReader;return n.onload=t,n.readAsDataURL(e),n}return!1},f=function(e,t,n){let i=document.createElement("p");if(i.className="container-preview",t.type.match("^image/.+")){let t=new Image;t.src=e.target.result,t.className="image-preview",i.appendChild(t)}let a=document.createTextNode(" "+h.sizeFormat(e.total));i.appendChild(a),$(n).parent().prepend(i)},g=function(e){$(e).parent().find("p.container-preview").remove()},h={saveAs:function(e,t){const n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.download=t,n.rel="noopener",n.href=URL.createObjectURL(e),setTimeout(()=>URL.revokeObjectURL(n.href),4e4),setTimeout(()=>n.click(),0)},sizeFormat:function(e){let t=-1;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"][t]},escapeHtml:function(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},escapeUrl:function(e){return window.encodeURI(e.toString())},downloadText:function(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"});h.saveAs(n,t||"file.txt")}},m={text:function(e,t,n){t.autocomplete({link:"#",target:n,source:e,loadingHtml:"",icon:"tag",callback:function(e){let n=t.val().split(",");n.pop(),n.push($(e.currentTarget).text());let i=n.join(",");t.val(i),t.autocomplete("clear")},minLength:2,interval:1})}},w={_title:null,setTitle:function(e){return w._title=e,this},getTitle:function(){return w._title},render:function(){let e=w.getTitle();null!==e&&$(":mobile-pagecontainer").find("#header-title").text(e)}},b={data:null,show:function(e){e&&(e.response||e.error)&&(b.data=e,$(":mobile-pagecontainer").on("click","#user-vk",b.popup))},popup:function(){let e=$(this),t=$(e.attr("href")),n=b._makeContent();return t.find("p").html(n),t.popup("open",{transition:"pop",positionTo:e}),!1},_makeContent:function(){if(!b.data)return"Error";if(b.data.error&&b.data.error.error_code)return b.data.error.error_msg;if(b.data.response&&b.data.response[0]){let e=b.data.response[0];return`\n                <a rel="external" href="https://vk.com/id${e.id}">\n                    <img src="${e.photo_200_orig}" />\n                </a><br />\n                <span>${e.first_name} ${e.last_name}</span><br />\n            `+(e.online?'<span class="green">Онлайн</span>':'<span class="gray">Офлайн</span>')}return"No data"}},v=$(document);var k,_;document,((k=window)[_="yandex_metrika_callbacks"]=k[_]||[]).push(function(){try{k.yaCounter26376855=new Ya.Metrika({id:26376855,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})}catch(e){}});const x=function(e,t){let n=e.find("#vkcomments_widget");n.empty();const i="vkcomments_widget-"+(new Date).getTime();n.attr("id",i);let a=0,o=window.setInterval(function(){a++,"VK"in window?(VK._apiId||VK.init(window.vkInitConfig),window.clearInterval(o),VK.Widgets.Comments(i,{},t)):a>100&&(window.clearInterval(o),console.log("Can't initialize VK"))},100)};v.on("pageshow","#file_view",function(){x($(this),"file-"+window.location.pathname.split("/").reverse()[0])}).on("pageshow","#gist_view",function(){x($(this),"gist-"+window.location.pathname.split("/").reverse()[0])}).on("pageshow","#news_show",function(){x($(this),"news-"+window.location.pathname.split("/").reverse()[0])}),v.one("pagecreate","#file_upload",function(){u.A.pageCreate()}),v.one("pagecreate","#file_edit",function(){c.A.pageCreate()}),v.one("pagecreate","#file_view",function(){d.A.pageCreate()}),v.one("pagecreate","#file_swiper",function(){s.A.pageCreate()}),v.one("pagecreate","#archiver_edit",function(){l.A.pageCreate()}),v.one("pagecreate","#php_obfuscator_index",function(){i.A.pageCreate()}),v.one("pagecreate","#http_index",function(){a.A.pageCreate()}),v.one("pagecreate","#guestbook_index",function(){o.A.pageCreate()}),v.one("pagecreate","#gist_view",function(){r.A.pageCreate()}),v.one("pagecreate","#wapinet_user_profile",function(){let e=$(":mobile-pagecontainer").find("#user-vk").data("id");e&&$.post(Routing.generate("vk_api_users_get"),{v:"5.199",fields:"online,photo_200_orig",user_ids:e},b.show,"json")}),v.on("click","a[href^='#image-']",function(){$.mobile.loading("show");let e=$(this.getAttribute("href")),t=e.find("img"),n=t.attr("src"),i=t.data("src");return n===i?(e.popup("open"),$.mobile.loading("hide")):(t.load(function(){e.popup("open"),$.mobile.loading("hide")}),t.attr("src",i)),!1}),v.on("click",".pagerfanta a",function(){let e=$(":mobile-pagecontainer"),t=this,n=$(t),i=function(){return e.pagecontainer("change",n.attr("href"),{transition:"slide"}),!1};const a=function(){return e.pagecontainer("change",n.attr("href"),{transition:"slide",reverse:!0}),!1};if(n.hasClass("ui-first-child"))return a();if(n.hasClass("ui-last-child"))return i();const o={all:0,current:0,click:0};return n.closest("div").find("a").not(".ui-first-child, .ui-last-child").each(function(){o.all++,t===this&&(o.click=o.all),$(this).hasClass("page-current")&&(o.current=o.all)}),o.click>o.current?i():o.click<o.current?a():void 0}),v.on("change",'input[type="file"]',function(e){let t=e.target;if(t.files){let e=t.files[0];g(t),p(e,function(n){f(n,e,t)})}}),v.on("click","a.captcha-reload",function(){let e=$(this),t=$(":mobile-pagecontainer").find("#"+e.data("id"))[0];if(!t)return void console.log("Captcha element not found");let n=new URL(t.src);n.searchParams.set("n",(new Date).getTime()),t.src=n.toString()}),v.on("change","fieldset.file-url input[type='file']",function(e){let t="enable";e.target.value&&(t="disable"),$(":mobile-pagecontainer").find('fieldset.file-url input[type="url"]').textinput(t)}).on("change","fieldset.file-url input[type='url']",function(e){let t="enable";e.target.value&&(t="disable"),$(":mobile-pagecontainer").find('fieldset.file-url input[type="file"]').textinput(t)}),v.ajaxError(function(){$.mobile.loading("show",{html:'<h1 class="red">Ошибка</h1>',textVisible:!0,textonly:!0}),setTimeout(function(){$.mobile.loading("hide")},5e3)}).ajaxStart(function(){$.mobile.loading("show")}).ajaxSuccess(function(e){let t=$(e).find("title");t.length&&w.setTitle(t.html()).render(),$.mobile.loading("hide")}),v.ready(function(){const e={method:"GET",icon:"arrow-r",cancelRequests:!1,target:$(),source:null,callback:null,link:null,data:{},minLength:0,transition:"fade",matchFromStart:!0,labelHTML:function(e){return e},onNoResults:function(){},onLoading:function(){},onLoadingFinished:function(){},termParam:"term",loadingHtml:'<li data-icon="false"><a href="#">Searching...</a></li>',interval:0,builder:null,dataHandler:null,klass:null,forceFirstChoiceOnEnterKey:!0,transformResponse:null},t={},n=function(e,t,n){let i,a="";n.klass&&(a='class="'+n.klass+'"'),n.builder?i=n.builder.apply(e.eq(0),[t,n]):(i=[],t&&(n.dataHandler&&(t=n.dataHandler(t)),$.each(t,function(e,t){$.isPlainObject(t)?(n.transformResponse&&(t=n.transformResponse(t)),i.push("<li "+a+" data-icon="+n.icon+'><a href="'+n.link+encodeURIComponent(t.value)+'" data-transition="'+n.transition+"\" data-autocomplete='"+JSON.stringify(t).replace(/'/g,"&#39;")+"'>"+n.labelHTML(t.label)+"</a></li>")):i.push("<li "+a+" data-icon="+n.icon+'><a href="'+n.link+encodeURIComponent(t)+'" data-transition="'+n.transition+'">'+n.labelHTML(t)+"</a></li>")}))),Array.isArray(i)&&(i=i.join("")),$(n.target).html(i).listview("refresh"),n.callback&&"function"==typeof n.callback&&function(e){$("li a",$(e.target)).bind("click.autocomplete",function(t){t.stopPropagation(),t.preventDefault(),e.callback(t)})}(n),i.length>0?e.trigger("targetUpdated.autocomplete"):(e.trigger("targetCleared.autocomplete"),n.onNoResults&&n.onNoResults())},i=function(e,t){t.html("").listview("refresh").closest("fieldset").removeClass("ui-search-active"),e.trigger("targetCleared.autocomplete")},a=function(e){let o,r,l,c,s=$(this),u=s.attr("id"),d=s.jqmData("autocomplete");if(e&&(38===e.keyCode?$(".ui-btn-active",$(d.target)).removeClass("ui-btn-active").prevAll("li.ui-btn:eq(0)").addClass("ui-btn-active").length||$(".ui-btn:last",$(d.target)).addClass("ui-btn-active"):40===e.keyCode?$(".ui-btn-active",$(d.target)).removeClass("ui-btn-active").nextAll("li.ui-btn:eq(0)").addClass("ui-btn-active").length||$(".ui-btn:first",$(d.target)).addClass("ui-btn-active"):13===e.keyCode&&d.forceFirstChoiceOnEnterKey&&($(".ui-btn-active a",$(d.target)).click().length||$(".ui-btn:first a",$(d.target)).click())),d){if(o=s.val(),d._lastText===o)return;if(d._lastText=o,d._retryTimeout&&(window.clearTimeout(d._retryTimeout),d._retryTimeout=null),e&&(13===e.keyCode||38===e.keyCode||40===e.keyCode))return;if(o.length<d.minLength)i(s,$(d.target));else{if(d.interval&&Date.now()-d._lastRequest<d.interval)return void(d._retryTimeout=window.setTimeout($.proxy(a,this),d.interval-Date.now()+d._lastRequest));if(d._lastRequest=Date.now(),Array.isArray(d.source)){const e=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};r=d.source.sort().filter(function(t){return c=d.matchFromStart?new RegExp("^"+e(o),"i"):new RegExp(e(o),"i"),l=$.isPlainObject(t)?t.label:t,c.test(l)}),n(s,r,d)}else if("function"==typeof d.source)d.source(o,function(e){n(s,e,d)});else{const e={type:d.method,data:d.data,dataType:"json",beforeSend:function(e){d.cancelRequests&&(t[u]&&t[u].abort(),t[u]=e),d.onLoading&&d.onLoadingFinished&&d.onLoading(),d.loadingHtml&&($(d.target).html(d.loadingHtml).listview("refresh"),$(d.target).closest("fieldset").addClass("ui-search-active"))},success:function(e){n(s,e,d)},complete:function(){d.cancelRequests&&(t[u]=null),d.onLoadingFinished&&d.onLoadingFinished()}};if($.isPlainObject(d.source)){d.source.callback&&d.source.callback(o,e);for(const t in d.source)"callback"!==t&&(e[t]=d.source[t])}else e.url=d.source;d.termParam&&(e.data[d.termParam]=o),$.ajax(e)}}}},o={init:function(t){const n=this;n.jqmData("autocomplete",$.extend({},e,t));const o=n.jqmData("autocomplete");return n.unbind("keyup.autocomplete").bind("keyup.autocomplete",a).next(".ui-input-clear").bind("click",function(){i(n,$(o.target))})},update:function(e){const t=this.jqmData("autocomplete");return t&&this.jqmData("autocomplete",$.extend(t,e)),this},clear:function(){const e=this.jqmData("autocomplete");return e&&i(this,$(e.target)),this},destroy:function(){const e=this.jqmData("autocomplete");return e&&(i(this,$(e.target)),this.jqmRemoveData("autocomplete"),this.unbind(".autocomplete")),this}};$.fn.autocomplete=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:o.init.apply(this,arguments)}})},87258:(e,t,n)=>{n.d(t,{A:()=>a});n(18111),n(20116);var i=n(84288);const a={pageCreate:function(){let e=$(":mobile-pagecontainer");i.j.text(Routing.generate("file_tags_search"),e.find("#file_upload_form_tags"),e.find("#suggestions")),e.find("#upload-password").change(function(){e.find("#upload-password-row").slideToggle(),e.find("#file_upload_form_tags").parent().parent().slideToggle()})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[74],()=>(t(84288),t(58005),t(79818),t(59405),t(39809),t(36330),t(71731),t(32631),t(87258),t(5474),t(17198)));e.O()}]);