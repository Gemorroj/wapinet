{% extends '::base.html.twig' %}
{% block title %}Новости{% endblock %}
{% block menu %}
    {{wapinet_menu({
    1: {'uri': path('index'), 'title': wapinet_title},
    2: {'uri': path('wapinet_news'), 'title': 'Новости'}
    })}}
{% endblock %}

{% block content -%}
    <h2>Новости</h2>

    <ul data-role="listview" data-inset="true">
        {% if news %}
            {% for entity in news %}
                <li data-role="list-divider">{{ entity.createdAt|wapinet_datetime }} <span class="ui-li-count">123</span></li>
                <li>
                    <a href="{{ url('wapinet_news_show', {'id': entity.id}) }}">
                        <h2>{{ entity.subject }}</h2>
                        {% if entity.updatedAt is not null %}
                            <p><strong>Обновлено {{ entity.updatedAt|wapinet_datetime }}</strong></p>
                        {% endif %}
                    </a>
                </li>
            {% endfor %}
        {% else %}
            <li>
                Нет новостей для отображения.
            </li>
        {% endif %}
    </ul>

    <div class="pagerfanta">
        {{ pagerfanta(news) }}
    </div>
{% endblock %}